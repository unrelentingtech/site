+++
date = 2017-07-09T12:29:54+00:00
path = "/likes/2017-07-09-12-29-54"

[extra]
client_id = ["https://micropublish.net"]

[[extra.like_of]]
author = "https://kartikprabhu.com/about#me"
name = "Equal Height Images with Flexbox"
published = 2015-12-25T00:00:00+00:00
type = "entry"
url = "https://kartikprabhu.com/articles/equal-height-images-flexbox"

[extra.like_of.content]
text = "Images on the Web have a mind of their own. Want to place two fluid images side by side so that their heights are always equal? Flexbox to the rescue!\n\nYou can see the final demo here: equal height images with flexbox demo\n\nThis would be easy in the old days — set equal heights and appropriate width on each img element and you’re done! But being being responsive citizens we use responsive design and fluid images! So we have the following HTML markup for our images:\n\n&lt;div class=\"img-group\"&gt;\n\t&lt;div class=\"img-container1\"&gt;\n\t&lt;img src=\"image1.jpg\" &gt;\n\t&lt;/div&gt;\n\n\t&lt;div class=\"img-container2\"&gt;\n\t&lt;img src=\"image2.jpg\" &gt;\n\t&lt;/div&gt;\n&lt;/div&gt;\n\nThe div with class img-group contains all the images we want to display at the same height. Each img is in its own container so that we can make it fluid using the CSS:\nimg{\n\twidth:100%;\n\theight:auto;\n}\n\nThis gives us the fluid images we want — the images scale with the size of their containers (see the first demo) and they are stacked vertically. Now we want to place these images horizontally next to each other and then, force them to have the same heights.\n\nWe can do this by either using a combination of float and width or a much cleaner way using Flexbox.\n\nFloat &amp; Width\n\nWe can place the image containers side by side using float:left1 and setting the correct width on the image containers in CSS using percentage units. But what are the correct widths so that both images display at the same height?\n\n\nWe have to do some math to find the correct widths for each of the image container elements. Say the first image has an aspect ratio aspect1 =  0.5656 and the second image has an aspect ratio aspect2 = 1.7679. I have taken these numbers from the images used in the demo, you should pick your own! To get each image to display at the same height, we use the widths calculated as:\n\nwidth1 = aspect1/(aspect1 + aspect2) = 24.238%\nwidth2 = aspect2/(aspect1 + aspect2) = 75.762%\n\nSo we use these widths as the width property of the image containers\n\n.img-container1{\n\twidth:24.238%;\n}\n.img-container2{\n\twidth:75.762%;\n}\n\n\nWe have our equal height fluid images! If we want some padding or border on the left/right side of either image container we can use box-sizing:border-box; on the image containers to maintain the equal heights of the images. But since margins sit outside the box, there is no way to put margins on the image containers while having the heights of the images be the same. Worse yet, if we add a third image with aspect ratio aspect3 = 1.0135 we have to go back and recalculate the widths of all the image containers!2\n\nwidth1 = aspect1/(aspect1 + aspect2+ aspect3) = 16.899%\nwidth2 = aspect2/(aspect1 + aspect2+ aspect3) = 52.820%\nwidth3 = aspect3/(aspect1 + aspect2+ aspect3) = 30.281%\n\nClearly, this float and width method is hacky; there has to be a better way!\n\nEnter Flexbox\n\nFlexbox allows us to get our equal height fluid images very easily. Firstly, we want all images in the img-group to sit side by side. This is done by the CSS:\n.img-group{\n\tdisplay:flex;\n}\n\nJust that simple line makes the images sit side by side (see Flex on Image Group demo); no need for any float witchcraft.\n\ndisplay:flex on the image group makes the images sit side by side.\n\nTo make the images the same height we set the flex property 3 of each image container to match the aspect ratio of the image with the CSS\n.img-container1{\n\tflex:0.5656;\n}\n.img-container2{\n\tflex:1.7679;\n}\n\nThis tells each image container to fill up the space inside the image group according to the image’s aspect ratio. The browser does all the math needed to decide how to fit the images correctly. We have equal height flexible images (see Flex with aspect ratios demo).\n\nsetting the flex property of the image containers to match the aspect ratios of the images makes their heights equal.\n\nWe can easily add padding, border and margins to the left/right of either image container while keeping the equal heights(see the padding and margin demos).\n\npadding and margins on the image containers without messing up the heights.\n\nNow if we add our third image, we simply add a line of CSS for its container:\n.img-container3{\n\tflex:1.0135;\n}\n\nFlexbox automatically calculates all the correct widths for the previous images (see More Images demo) and we don’t have to change the previous code!\n\nadd a third image without changing previous CSS.\n\nAsides\n\nIf we have a responsive site (as we should) the images will get very small on small viewports and we might want them to stack vertically instead of sitting side by side. This can be done quite easily by putting the display:flex on the img-group inside a min-width media query. So on smaller screens we get vertically stacked images but on larger ones they sit next to each other with equal heights.\n\nThe flexbox method still requires us to know the image aspect ratios. Further, we have to insert a separate CSS flex rule for each image. I don’t know a good way around this. If anyone does let me know.\n\nNotes\nA most useful resource on Flexbox is A Complete Guide to Flexbox by Chris Coyier. Also, `flex-grow` is weird. Or is it? by Manuel Matuzovic.\n\nYou might have to use some clear:right to avoid the content below the last image from displaying strangely.\n\nIf you are a Sass-y you could put all these calculations into your CSS pre-processor.\n\nThe flex property is a shorthand for flex-grow, flex-shrink and flex-basis (see: flex - CSS on MDN). Since we are setting flex to a unitless number we are only setting the flex-grow property, letting the browser decide the others intelligently."

+++

